<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search Restaurants</title>
    <link rel="stylesheet" href="../styles/search.css">
</head>
<body>
    <div class="sticky-container">
        <div class="search-container">
            <input type="text" id="searchBar" placeholder="Search for restaurants...">
        </div>
        <div class="filters">
            <div class="dropdown">
                <button class="dropbtn">Distance</button>
                <div class="dropdown-content">
                    <label><input type="checkbox" name="distance" value="1km"> 1 km</label>
                    <label><input type="checkbox" name="distance" value="5km"> 5 km</label>
                    <label><input type="checkbox" name="distance" value="10km"> 10 km</label>
                </div>
            </div>
            <div class="dropdown">
                <button class="dropbtn">Cuisine</button>
                <div class="dropdown-content">
                    <label><input type="checkbox" name="cuisine" value="Italian"> Italian</label>
                    <label><input type="checkbox" name="cuisine" value="Chinese"> Chinese</label>
                    <label><input type="checkbox" name="cuisine" value="Indian"> Indian</label>
                </div>
            </div>
            <div class="dropdown">
                <button class="dropbtn">Rating</button>
                <div class="dropdown-content">
                    <label><input type="checkbox" name="rating" value="1"> 1 Star</label>
                    <label><input type="checkbox" name="rating" value="2"> 2 Stars</label>
                    <label><input type="checkbox" name="rating" value="3"> 3 Stars</label>
                    <label><input type="checkbox" name="rating" value="4"> 4 Stars</label>
                    <label><input type="checkbox" name="rating" value="5"> 5 Stars</label>
                </div>
            </div>
            <div class="dropdown">
                <button class="dropbtn">Price</button>
                <div class="dropdown-content">
                    <label><input type="checkbox" name="price" value="$">$</label>
                    <label><input type="checkbox" name="price" value="$$">$$</label>
                    <label><input type="checkbox" name="price" value="$$$">$$$</label>
                    <label><input type="checkbox" name="price" value="$$$$">$$$$</label>
                </div>
            </div>
            <div class="dropdown">
                <button class="dropbtn">Opening Times</button>
                <div class="dropdown-content">
                    <label><input type="checkbox" name="opening" value="Morning"> Morning</label>
                    <label><input type="checkbox" name="opening" value="Afternoon"> Afternoon</label>
                    <label><input type="checkbox" name="opening" value="Evening"> Evening</label>
                </div>
            </div>
            <button id="clearFiltersButton" class="dropbtn clear-filters">Clear Filters</button>
            <button id="addAllButtonRestaurants" style="color:rgb(61, 232, 132);" class="dropbtn add-all">Add All</button>
        </div>
    </div>
    <div class="restaurant-list" id="restaurantList"></div>
    <script src="../js/search.js"></script>
    <script>
        window.addEventListener('message', (event) => {
            if (event.origin !== window.location.origin) {
                return;
            }

            if (event.data && event.data.type === 'changeMode') {
                changeBackgroundMode(event.data.mode);
            }
        });

        function changeBackgroundMode(mode) {
            const body = document.body;
            if (mode === 'dark') {
                body.classList.add('dark-mode');
            } else {
                body.classList.remove('dark-mode');
            }
        }
    </script>
</body>
</html>
